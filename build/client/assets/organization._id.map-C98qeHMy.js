const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapComponent-DbC1MTya.js","assets/chunk-K6CSEXPM-D4OhfGCF.js","assets/formatters-D26J2qZj.js","assets/index-2axZxZbn.js","assets/MapComponent-CIGW-MKW.css"])))=>i.map(i=>d[i]);
import{w as g,B as j}from"./Box-ZWDu6dtx.js";import{r as o,j as t,L as y,u as v}from"./chunk-K6CSEXPM-D4OhfGCF.js";import{F as w}from"./Filter-D8xqPC60.js";import{f as N}from"./formatters-D26J2qZj.js";import{C as L,F as b,I as S}from"./Skeletons-Dq2uldXt.js";import"./ButtonBase-CT9WhBBT.js";import"./use-debounce-CpbkYV4p.js";import"./Paper-s869En6t.js";import"./index-2axZxZbn.js";import"./index-B-6kegg0.js";import"./index-BYOop6yO.js";import"./useSlotProps-DEiCf-AO.js";const C="modulepreload",E=function(r){return"/"+r},h={},k=function(f,c,m){let d=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));d=Promise.allSettled(c.map(i=>{if(i=E(i),i in h)return;h[i]=!0;const a=i.endsWith(".css"),e=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${e}`))return;const n=document.createElement("link");if(n.rel=a?"stylesheet":C,a||(n.as="script"),n.crossOrigin="",n.href=i,l&&n.setAttribute("nonce",l),document.head.appendChild(n),a)return new Promise((p,x)=>{n.addEventListener("load",p),n.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${i}`)))})}))}function u(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return d.then(s=>{for(const l of s||[])l.status==="rejected"&&u(l.reason);return f().catch(u)})},P=o.lazy(()=>k(()=>import("./MapComponent-DbC1MTya.js"),__vite__mapDeps([0,1,2,3,4]))),D=({filterCriteria:r,initialData:f})=>{const[c,m]=o.useState(0),[d,u]=o.useState(!1),[s,l]=o.useState(f);o.useEffect(()=>{u(!0)},[]);const i=e=>{m(e)},a=o.useMemo(()=>!r||!s||s.length===0?s||[]:s.filter(e=>!(e.fullName&&r.name&&r.name.trim()!==""&&!e.fullName.toLowerCase().includes(r.name.toLowerCase())||e.city&&r.city&&r.city.trim()!==""&&!e.city.toLowerCase().includes(r.city.toLowerCase())||e.state&&r.state&&!e.state.includes(r.state)||e.acceptNewPatients===100000001&&!r.acceptingNewPatients||!r.includeInactive&&e.stateCode===1)),[r,s]);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col md:flex-row max-w-6xl mx-auto max-h-svh h-[40rem] bg-gray-100",children:[t.jsxs("div",{className:"w-full md:w-1/3 h-1/2 md:h-full overflow-y-auto p-4 bg-white border border-neutral-200",children:[t.jsx("div",{className:"mb-4",children:t.jsxs("p",{className:"font-medium text-gray-700",children:["Showing ",a.length," of ",s.length," practitioners"]})}),a.length===0?t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No providers match your current filters"}):t.jsx("div",{className:"space-y-4",children:a.map((e,n)=>t.jsxs("div",{id:`card-${n}`,className:`p-4 rounded-lg shadow-md cursor-pointer transition-all duration-100 ${c===n?"outline-blue-400 outline bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>i(n),children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx(y,{to:`/profile/${e.practitionerId}`,viewTransition:!0,children:t.jsx("h3",{className:"text-md font-semibold hover:underline",children:e.fullName})}),t.jsx(L,{label:e.stateCode===0?"Active":"Inactive",variant:"outlined",color:e.stateCode===1?"error":"primary",size:"small",className:"ml-1"})]}),e.addressLine1&&t.jsx("p",{className:"my-0",children:e.addressLine1}),e.addressLine2&&t.jsx("p",{className:"my-0",children:e==null?void 0:e.addressLine2}),e.city&&e.state&&e.zip&&t.jsx("p",{className:"my-0",children:e.city+", "+e.state+" "+N(e.zip)}),t.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.locationCount," Locations"]})]},n))})]}),t.jsx("div",{className:"w-full md:w-2/3 h-1/2 md:h-full",children:d?t.jsx(o.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-100 rounded",children:t.jsx("p",{className:"text-gray-500",children:"Loading map..."})}),children:t.jsx(P,{locations:a,selectedLocation:c,setSelectedLocation:m})}):t.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-100 rounded",children:t.jsx("p",{className:"text-gray-500",children:"Map loading..."})})})]})})},W=g(function(){const[f,c]=o.useState(),[m,d]=o.useState(!0),[u,s]=o.useState([]),l=v();o.useEffect(()=>{let a=!0;return d(!0),a&&(s(l),d(!1)),()=>{a=!1}},[]);const i=o.useCallback(a=>{c(a)},[]);return t.jsxs(j,{className:"mt-4",children:[m?t.jsx(b,{}):t.jsx(w,{onFilterChange:i}),m?t.jsx(S,{}):t.jsx(D,{filterCriteria:f,initialData:u})]})});export{W as default};
