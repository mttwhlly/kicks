import{g as Ge,a as Ke,b as qe,s as Ye,c as Ze,e as Xe,m as Vt,d as Ve,l as gn,h as vn,t as Ct,w as xn,B as lo}from"./Box-ZWDu6dtx.js";import{r as G,j as H,R as E,x as Tn,u as Cn,L as In}from"./chunk-K6CSEXPM-D4OhfGCF.js";import{F as wn}from"./Filter-D8xqPC60.js";import{i as bn}from"./index-2axZxZbn.js";import{P as Ft}from"./Paper-s869En6t.js";import{F as yn,T as Sn}from"./Skeletons-Dq2uldXt.js";import{a as Hn,f as Rn}from"./formatters-D26J2qZj.js";import"./ButtonBase-CT9WhBBT.js";import"./use-debounce-CpbkYV4p.js";import"./index-B-6kegg0.js";import"./index-BYOop6yO.js";import"./useSlotProps-DEiCf-AO.js";const Lo=G.createContext();function zn(e){return Ge("MuiTable",e)}Ke("MuiTable",["root","stickyHeader"]);const kn=e=>{const{classes:t,stickyHeader:o}=e;return Xe({root:["root",o&&"stickyHeader"]},zn,t)},En=Ye("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.stickyHeader&&t.stickyHeader]}})(Vt(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),ao="table",Bn=G.forwardRef(function(t,o){const n=qe({props:t,name:"MuiTable"}),{className:r,component:i=ao,padding:l="normal",size:s="medium",stickyHeader:a=!1,...u}=n,d={...n,component:i,padding:l,size:s,stickyHeader:a},g=kn(d),c=G.useMemo(()=>({padding:l,size:s,stickyHeader:a}),[l,s,a]);return H.jsx(Lo.Provider,{value:c,children:H.jsx(En,{as:i,role:i===ao?null:"table",ref:o,className:Ze(g.root,r),ownerState:d,...u})})}),Ht=G.createContext();function Mn(e){return Ge("MuiTableBody",e)}Ke("MuiTableBody",["root"]);const jn=e=>{const{classes:t}=e;return Xe({root:["root"]},Mn,t)},Ln=Ye("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Pn={variant:"body"},co="tbody",On=G.forwardRef(function(t,o){const n=qe({props:t,name:"MuiTableBody"}),{className:r,component:i=co,...l}=n,s={...n,component:i},a=jn(s);return H.jsx(Ht.Provider,{value:Pn,children:H.jsx(Ln,{className:Ze(a.root,r),as:i,ref:o,role:i===co?null:"rowgroup",ownerState:s,...l})})});function Fn(e){return Ge("MuiTableCell",e)}const Nn=Ke("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),An=e=>{const{classes:t,variant:o,align:n,padding:r,size:i,stickyHeader:l}=e,s={root:["root",o,l&&"stickyHeader",n!=="inherit"&&`align${Ve(n)}`,r!=="normal"&&`padding${Ve(r)}`,`size${Ve(i)}`]};return Xe(s,Fn,t)},Wn=Ye("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`size${Ve(o.size)}`],o.padding!=="normal"&&t[`padding${Ve(o.padding)}`],o.align!=="inherit"&&t[`align${Ve(o.align)}`],o.stickyHeader&&t.stickyHeader]}})(Vt(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?gn(Ct(e.palette.divider,1),.88):vn(Ct(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Nn.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),uo=G.forwardRef(function(t,o){const n=qe({props:t,name:"MuiTableCell"}),{align:r="inherit",className:i,component:l,padding:s,scope:a,size:u,sortDirection:d,variant:g,...c}=n,f=G.useContext(Lo),I=G.useContext(Ht),x=I&&I.variant==="head";let T;l?T=l:T=x?"th":"td";let h=a;T==="td"?h=void 0:!h&&x&&(h="col");const p=g||I&&I.variant,y={...n,align:r,component:T,padding:s||(f&&f.padding?f.padding:"normal"),size:u||(f&&f.size?f.size:"medium"),sortDirection:d,stickyHeader:p==="head"&&f&&f.stickyHeader,variant:p},R=An(y);let v=null;return d&&(v=d==="asc"?"ascending":"descending"),H.jsx(Wn,{as:T,ref:o,className:Ze(R.root,i),"aria-sort":v,scope:h,ownerState:y,...c})});function $n(e){return Ge("MuiTableContainer",e)}Ke("MuiTableContainer",["root"]);const Dn=e=>{const{classes:t}=e;return Xe({root:["root"]},$n,t)},Vn=Ye("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Un=G.forwardRef(function(t,o){const n=qe({props:t,name:"MuiTableContainer"}),{className:r,component:i="div",...l}=n,s={...n,component:i},a=Dn(s);return H.jsx(Vn,{ref:o,as:i,className:Ze(a.root,r),ownerState:s,...l})});function _n(e){return Ge("MuiTableHead",e)}Ke("MuiTableHead",["root"]);const Gn=e=>{const{classes:t}=e;return Xe({root:["root"]},_n,t)},Kn=Ye("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),qn={variant:"head"},fo="thead",Yn=G.forwardRef(function(t,o){const n=qe({props:t,name:"MuiTableHead"}),{className:r,component:i=fo,...l}=n,s={...n,component:i},a=Gn(s);return H.jsx(Ht.Provider,{value:qn,children:H.jsx(Kn,{as:i,className:Ze(a.root,r),ref:o,role:i===fo?null:"rowgroup",ownerState:s,...l})})});function Zn(e){return Ge("MuiTableRow",e)}const po=Ke("MuiTableRow",["root","selected","hover","head","footer"]),Xn=e=>{const{classes:t,selected:o,hover:n,head:r,footer:i}=e;return Xe({root:["root",o&&"selected",n&&"hover",r&&"head",i&&"footer"]},Zn,t)},Jn=Ye("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.head&&t.head,o.footer&&t.footer]}})(Vt(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${po.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${po.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),ho="tr",Po=G.forwardRef(function(t,o){const n=qe({props:t,name:"MuiTableRow"}),{className:r,component:i=ho,hover:l=!1,selected:s=!1,...a}=n,u=G.useContext(Ht),d={...n,component:i,hover:l,selected:s,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},g=Xn(d);return H.jsx(Jn,{as:i,ref:o,className:Ze(g.root,r),role:i===ho?null:"row",ownerState:d,...a})}),Rt=0,Be=1,Je=2,Oo=4;function mo(e){return()=>e}function Qn(e){e()}function It(e,t){return o=>e(t(o))}function go(e,t){return()=>e(t)}function Fo(e,t){return o=>e(t,o)}function Ut(e){return e!==void 0}function er(...e){return()=>{e.map(Qn)}}function Qe(){}function zt(e,t){return t(e),e}function tr(e,t){return t(e)}function Z(...e){return e}function U(e,t){return e(Be,t)}function F(e,t){e(Rt,t)}function _t(e){e(Je)}function re(e){return e(Oo)}function B(e,t){return U(e,Fo(t,Rt))}function ye(e,t){const o=e(Be,n=>{o(),t(n)});return o}function vo(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout(()=>{n(t)},e)}}function No(e,t){return e===t}function Y(e=No){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function L(e){return t=>o=>{e(o)&&t(o)}}function z(e){return t=>It(t,e)}function we(e){return t=>()=>{t(e)}}function C(e,...t){const o=or(...t);return(n,r)=>{switch(n){case Je:_t(e);return;case Be:return U(e,o(r))}}}function be(e,t){return o=>n=>{o(t=e(t,n))}}function _e(e){return t=>o=>{e>0?e--:t(o)}}function ke(e){let t=null,o;return n=>r=>{t=r,!o&&(o=setTimeout(()=>{o=void 0,n(t)},e))}}function A(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach((i,l)=>{const s=Math.pow(2,l);U(i,a=>{const u=o;o=o|s,t[l]=a,u!==r&&o===r&&n&&(n(),n=null)})}),i=>l=>{const s=()=>{i([l].concat(t))};o===r?s():n=s}}function or(...e){return t=>e.reduceRight(tr,t)}function nr(e){let t,o;const n=()=>t==null?void 0:t();return function(r,i){switch(r){case Be:return i?o===i?void 0:(n(),o=i,t=U(e,i),t):(n(),Qe);case Je:n(),o=null;return}}}function w(e){let t=e;const o=D();return(n,r)=>{switch(n){case Rt:t=r;break;case Be:{r(t);break}case Oo:return t}return o(n,r)}}function ie(e,t){return zt(w(t),o=>B(e,o))}function D(){const e=[];return(t,o)=>{switch(t){case Rt:e.slice().forEach(n=>{n(o)});return;case Je:e.splice(0,e.length);return;case Be:return e.push(o),()=>{const n=e.indexOf(o);n>-1&&e.splice(n,1)}}}}function fe(e){return zt(D(),t=>B(e,t))}function V(e,t=[],{singleton:o}={singleton:!0}){return{constructor:e,dependencies:t,id:rr(),singleton:o}}const rr=()=>Symbol();function ir(e){const t=new Map,o=({constructor:n,dependencies:r,id:i,singleton:l})=>{if(l&&t.has(i))return t.get(i);const s=n(r.map(a=>o(a)));return l&&t.set(i,s),s};return o(e)}function oe(...e){const t=D(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach((i,l)=>{const s=Math.pow(2,l);U(i,a=>{o[l]=a,n=n|s,n===r&&F(t,o)})}),function(i,l){switch(i){case Je:{_t(t);return}case Be:return n===r&&l(o),U(t,l)}}}function P(e,t=No){return C(e,Y(t))}function xo(...e){return function(t,o){switch(t){case Je:return;case Be:return er(...e.map(n=>U(n,o)))}}}var me=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(me||{});const sr={0:"debug",3:"error",1:"log",2:"warn"},lr=()=>typeof globalThis>"u"?window:globalThis,Me=V(()=>{const e=w(3);return{log:w((t,o,n=1)=>{var r;const i=(r=lr().VIRTUOSO_LOG_LEVEL)!=null?r:re(e);n>=i&&console[sr[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,o)}),logLevel:e}},[],{singleton:!0});function Ne(e,t,o){return Gt(e,t,o).callbackRef}function Gt(e,t,o){const n=E.useRef(null);let r=i=>{};if(typeof ResizeObserver<"u"){const i=E.useMemo(()=>new ResizeObserver(l=>{const s=()=>{const a=l[0].target;a.offsetParent!==null&&e(a)};o?s():requestAnimationFrame(s)}),[e]);r=l=>{l&&t?(i.observe(l),n.current=l):(n.current&&i.unobserve(n.current),n.current=null)}}return{callbackRef:r,ref:n}}function ar(e,t,o,n,r,i,l,s,a){const u=E.useCallback(d=>{const g=cr(d.children,t,"offsetHeight",r);let c=d.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;const f=c.lastElementChild.dataset.viewportType==="window",I=l?l.scrollTop:f?window.pageYOffset||document.documentElement.scrollTop:c.scrollTop,x=l?l.scrollHeight:f?document.documentElement.scrollHeight:c.scrollHeight,T=l?l.offsetHeight:f?window.innerHeight:c.offsetHeight;n({scrollHeight:x,scrollTop:Math.max(I,0),viewportHeight:T}),g!==null&&e(g)},[e,t,r,i,l,n]);return Gt(u,o,a)}function cr(e,t,o,n){const r=e.length;if(r===0)return null;const i=[];for(let l=0;l<r;l++){const s=e.item(l);if(s.dataset.index===void 0)continue;const a=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),d=t(s,o);if(d===0&&n("Zero-sized element, this should not happen",{child:s},me.ERROR),d===u)continue;const g=i[i.length-1];i.length===0||g.size!==d||g.endIndex!==a-1?i.push({endIndex:a,size:d,startIndex:a}):i[i.length-1].endIndex++}return i}function Ao(e,t,o){const n=E.useRef(null),r=E.useCallback(a=>{if(!(a!=null&&a.offsetParent))return;const u=a.getBoundingClientRect(),d=u.width;let g,c;if(t){const f=t.getBoundingClientRect(),I=u.top-f.top;c=f.height-Math.max(0,I),g=I+t.scrollTop}else c=window.innerHeight-Math.max(0,u.top),g=u.top+window.pageYOffset;n.current={offsetTop:g,visibleHeight:c,visibleWidth:d},e(n.current)},[e,t]),{callbackRef:i,ref:l}=Gt(r,!0,o),s=E.useCallback(()=>{r(l.current)},[r,l]);return E.useEffect(()=>{if(t){t.addEventListener("scroll",s);const a=new ResizeObserver(()=>{requestAnimationFrame(s)});return a.observe(t),()=>{t.removeEventListener("scroll",s),a.unobserve(t)}}else return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,t]),i}const ae=V(()=>{const e=D(),t=D(),o=w(0),n=D(),r=w(0),i=D(),l=D(),s=w(0),a=w(0),u=w(0),d=w(0),g=D(),c=D(),f=w(!1),I=w(!1),x=w(!1);return B(C(e,z(({scrollTop:T})=>T)),t),B(C(e,z(({scrollHeight:T})=>T)),l),B(t,r),{deviation:o,fixedFooterHeight:u,fixedHeaderHeight:a,footerHeight:d,headerHeight:s,horizontalDirection:I,scrollBy:c,scrollContainerState:e,scrollHeight:l,scrollingInProgress:f,scrollTo:g,scrollTop:t,skipAnimationFrameInResizeObserver:x,smoothScrollTargetReached:n,statefulScrollTop:r,viewportHeight:i}},[],{singleton:!0}),it={lvl:0};function Wo(e,t){const o=e.length;if(o===0)return[];let{index:n,value:r}=t(e[0]);const i=[];for(let l=1;l<o;l++){const{index:s,value:a}=t(e[l]);i.push({end:s-1,start:n,value:r}),n=s,r=a}return i.push({end:1/0,start:n,value:r}),i}function K(e){return e===it}function st(e,t){if(!K(e))return t===e.k?e.v:t<e.k?st(e.l,t):st(e.r,t)}function Ce(e,t,o="k"){if(K(e))return[-1/0,void 0];if(Number(e[o])===t)return[e.k,e.v];if(Number(e[o])<t){const n=Ce(e.r,t,o);return n[0]===-1/0?[e.k,e.v]:n}return Ce(e.l,t,o)}function de(e,t,o){return K(e)?Vo(t,o,1):t===e.k?te(e,{k:t,v:o}):t<e.k?To(te(e,{l:de(e.l,t,o)})):To(te(e,{r:de(e.r,t,o)}))}function Ue(){return it}function kt(e,t,o){if(K(e))return[];const n=Ce(e,t)[0];return ur(At(e,n,o))}function Nt(e,t){if(K(e))return it;const{k:o,l:n,r}=e;if(t===o){if(K(n))return r;if(K(r))return n;{const[i,l]=Do(n);return xt(te(e,{k:i,l:$o(n),v:l}))}}else return t<o?xt(te(e,{l:Nt(n,t)})):xt(te(e,{r:Nt(r,t)}))}function Fe(e){return K(e)?[]:[...Fe(e.l),{k:e.k,v:e.v},...Fe(e.r)]}function At(e,t,o){if(K(e))return[];const{k:n,l:r,r:i,v:l}=e;let s=[];return n>t&&(s=s.concat(At(r,t,o))),n>=t&&n<=o&&s.push({k:n,v:l}),n<=o&&(s=s.concat(At(i,t,o))),s}function xt(e){const{l:t,lvl:o,r:n}=e;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(jt(t))return Uo(te(e,{lvl:o-1}));if(!K(t)&&!K(t.r))return te(t.r,{l:te(t,{r:t.r.l}),lvl:o,r:te(e,{l:t.r.r,lvl:o-1})});throw new Error("Unexpected empty nodes")}else{if(jt(e))return Wt(te(e,{lvl:o-1}));if(!K(n)&&!K(n.l)){const r=n.l,i=jt(r)?n.lvl-1:n.lvl;return te(r,{l:te(e,{lvl:o-1,r:r.l}),lvl:r.lvl+1,r:Wt(te(n,{l:r.r,lvl:i}))})}else throw new Error("Unexpected empty nodes")}}function te(e,t){return Vo(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function $o(e){return K(e.r)?e.l:xt(te(e,{r:$o(e.r)}))}function jt(e){return K(e)||e.lvl>e.r.lvl}function Do(e){return K(e.r)?[e.k,e.v]:Do(e.r)}function Vo(e,t,o,n=it,r=it){return{k:e,l:n,lvl:o,r,v:t}}function To(e){return Wt(Uo(e))}function Uo(e){const{l:t}=e;return!K(t)&&t.lvl===e.lvl?te(t,{r:te(e,{l:t.r})}):e}function Wt(e){const{lvl:t,r:o}=e;return!K(o)&&!K(o.r)&&o.lvl===t&&o.r.lvl===t?te(o,{l:te(e,{r:o.l}),lvl:t+1}):e}function ur(e){return Wo(e,({k:t,v:o})=>({index:t,value:o}))}function _o(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function lt(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const Kt=V(()=>({recalcInProgress:w(!1)}),[],{singleton:!0});function Go(e,t,o){return e[wt(e,t,o)]}function wt(e,t,o,n=0){let r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=e[i],s=o(l,t);if(s===0)return i;if(s===-1){if(r-n<2)return i-1;r=i-1}else{if(r===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function dr(e,t,o,n){const r=wt(e,t,n),i=wt(e,o,n,r);return e.slice(r,i+1)}function Ee(e,t){return Math.round(e.getBoundingClientRect()[t])}function Et(e){return!K(e.groupOffsetTree)}function qt({index:e},t){return t===e?0:t<e?-1:1}function fr(){return{groupIndices:[],groupOffsetTree:Ue(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Ue()}}function pr(e,t){let o=K(e)?0:1/0;for(const n of t){const{endIndex:r,size:i,startIndex:l}=n;if(o=Math.min(o,l),K(e)){e=de(e,0,i);continue}const s=kt(e,l-1,r+1);if(s.some(Cr(n)))continue;let a=!1,u=!1;for(const{end:d,start:g,value:c}of s)a?(r>=g||i===c)&&(e=Nt(e,g)):(u=c!==i,a=!0),d>r&&r>=g&&c!==i&&(e=de(e,r+1,c));u&&(e=de(e,l,i))}return[e,o]}function hr(e){return typeof e.groupIndex<"u"}function mr({offset:e},t){return t===e?0:t<e?-1:1}function at(e,t,o){if(t.length===0)return 0;const{index:n,offset:r,size:i}=Go(t,e,qt),l=e-n,s=i*l+(l-1)*o+r;return s>0?s+o:s}function Ko(e,t){if(!Et(t))return e;let o=0;for(;t.groupIndices[o]<=e+o;)o++;return e+o}function qo(e,t,o){if(hr(e))return t.groupIndices[e.groupIndex]+1;{const n=e.index==="LAST"?o:e.index;let r=Ko(n,t);return r=Math.max(0,r,Math.min(o,r)),r}}function gr(e,t,o,n=0){return n>0&&(t=Math.max(t,Go(e,n,qt).offset)),Wo(dr(e,t,o,mr),Tr)}function vr(e,[t,o,n,r]){t.length>0&&n("received item sizes",t,me.DEBUG);const i=e.sizeTree;let l=i,s=0;if(o.length>0&&K(i)&&t.length===2){const c=t[0].size,f=t[1].size;l=o.reduce((I,x)=>de(de(I,x,c),x+1,f),l)}else[l,s]=pr(l,t);if(l===i)return e;const{lastIndex:a,lastOffset:u,lastSize:d,offsetTree:g}=$t(e.offsetTree,s,l,r);return{groupIndices:o,groupOffsetTree:o.reduce((c,f)=>de(c,f,at(f,g,r)),Ue()),lastIndex:a,lastOffset:u,lastSize:d,offsetTree:g,sizeTree:l}}function xr(e){return Fe(e).map(({k:t,v:o},n,r)=>{const i=r[n+1];return{endIndex:i?i.k-1:1/0,size:o,startIndex:t}})}function Co(e,t){let o=0,n=0;for(;o<e;)o+=t[n+1]-t[n]-1,n++;return n-(o===e?0:1)}function $t(e,t,o,n){let r=e,i=0,l=0,s=0,a=0;if(t!==0){a=wt(r,t-1,qt),s=r[a].offset;const u=Ce(o,t-1);i=u[0],l=u[1],r.length&&r[a].size===Ce(o,t)[1]&&(a-=1),r=r.slice(0,a+1)}else r=[];for(const{start:u,value:d}of kt(o,t,1/0)){const g=u-i,c=g*l+s+g*n;r.push({index:u,offset:c,size:d}),i=u,s=c,l=d}return{lastIndex:i,lastOffset:s,lastSize:l,offsetTree:r}}function Tr(e){return{index:e.index,value:e}}function Cr(e){const{endIndex:t,size:o,startIndex:n}=e;return r=>r.start===n&&(r.end===t||r.end===1/0)&&r.value===o}const Ir={offsetHeight:"height",offsetWidth:"width"},Se=V(([{log:e},{recalcInProgress:t}])=>{const o=D(),n=D(),r=ie(n,0),i=D(),l=D(),s=w(0),a=w([]),u=w(void 0),d=w(void 0),g=w((v,m)=>Ee(v,Ir[m])),c=w(void 0),f=w(0),I=fr(),x=ie(C(o,A(a,e,f),be(vr,I),Y()),I),T=ie(C(a,Y(),be((v,m)=>({current:m,prev:v.current}),{current:[],prev:[]}),z(({prev:v})=>v)),[]);B(C(a,L(v=>v.length>0),A(x,f),z(([v,m,S])=>{const k=v.reduce((j,M,O)=>de(j,M,at(M,m.offsetTree,S)||O),Ue());return{...m,groupIndices:v,groupOffsetTree:k}})),x),B(C(n,A(x),L(([v,{lastIndex:m}])=>v<m),z(([v,{lastIndex:m,lastSize:S}])=>[{endIndex:m,size:S,startIndex:v}])),o),B(u,d);const h=ie(C(u,z(v=>v===void 0)),!0);B(C(d,L(v=>v!==void 0&&K(re(x).sizeTree)),z(v=>[{endIndex:0,size:v,startIndex:0}])),o);const p=fe(C(o,A(x),be(({sizes:v},[m,S])=>({changed:S!==v,sizes:S}),{changed:!1,sizes:I}),z(v=>v.changed)));U(C(s,be((v,m)=>({diff:v.prev-m,prev:m}),{diff:0,prev:0}),z(v=>v.diff)),v=>{const{groupIndices:m}=re(x);if(v>0)F(t,!0),F(i,v+Co(v,m));else if(v<0){const S=re(T);S.length>0&&(v-=Co(-v,S)),F(l,v)}}),U(C(s,A(e)),([v,m])=>{v<0&&m("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},me.ERROR)});const y=fe(i);B(C(i,A(x),z(([v,m])=>{const S=m.groupIndices.length>0,k=[],j=m.lastSize;if(S){const M=st(m.sizeTree,0);let O=0,_=0;for(;O<v;){const $=m.groupIndices[_],q=m.groupIndices.length===_+1?1/0:m.groupIndices[_+1]-$-1;k.push({endIndex:$,size:M,startIndex:$}),k.push({endIndex:$+1+q-1,size:j,startIndex:$+1}),_++,O+=q+1}const X=Fe(m.sizeTree);return O!==v&&X.shift(),X.reduce(($,{k:q,v:ue})=>{let pe=$.ranges;return $.prevSize!==0&&(pe=[...$.ranges,{endIndex:q+v-1,size:$.prevSize,startIndex:$.prevIndex}]),{prevIndex:q+v,prevSize:ue,ranges:pe}},{prevIndex:v,prevSize:0,ranges:k}).ranges}return Fe(m.sizeTree).reduce((M,{k:O,v:_})=>({prevIndex:O+v,prevSize:_,ranges:[...M.ranges,{endIndex:O+v-1,size:M.prevSize,startIndex:M.prevIndex}]}),{prevIndex:0,prevSize:j,ranges:[]}).ranges})),o);const R=fe(C(l,A(x,f),z(([v,{offsetTree:m},S])=>{const k=-v;return at(k,m,S)})));return B(C(l,A(x,f),z(([v,m,S])=>{if(m.groupIndices.length>0){if(K(m.sizeTree))return m;let k=Ue();const j=re(T);let M=0,O=0,_=0;for(;M<-v;){_=j[O];const X=j[O+1]-_-1;O++,M+=X+1}if(k=Fe(m.sizeTree).reduce((X,{k:$,v:q})=>de(X,Math.max(0,$+v),q),k),M!==-v){const X=st(m.sizeTree,_);k=de(k,0,X);const $=Ce(m.sizeTree,-v+1)[1];k=de(k,1,$)}return{...m,sizeTree:k,...$t(m.offsetTree,0,k,S)}}else{const k=Fe(m.sizeTree).reduce((j,{k:M,v:O})=>de(j,Math.max(0,M+v),O),Ue());return{...m,sizeTree:k,...$t(m.offsetTree,0,k,S)}}})),x),{beforeUnshiftWith:y,data:c,defaultItemSize:d,firstItemIndex:s,fixedItemSize:u,gap:f,groupIndices:a,itemSize:g,listRefresh:p,shiftWith:l,shiftWithOffset:R,sizeRanges:o,sizes:x,statefulTotalCount:r,totalCount:n,trackItemSizes:h,unshiftWith:i}},Z(Me,Kt),{singleton:!0});function wr(e){return e.reduce((t,o)=>(t.groupIndices.push(t.totalCount),t.totalCount+=o+1,t),{groupIndices:[],totalCount:0})}const Yo=V(([{groupIndices:e,sizes:t,totalCount:o},{headerHeight:n,scrollTop:r}])=>{const i=D(),l=D(),s=fe(C(i,z(wr)));return B(C(s,z(a=>a.totalCount)),o),B(C(s,z(a=>a.groupIndices)),e),B(C(oe(r,t,n),L(([a,u])=>Et(u)),z(([a,u,d])=>Ce(u.groupOffsetTree,Math.max(a-d,0),"v")[0]),Y(),z(a=>[a])),l),{groupCounts:i,topItemsIndexes:l}},Z(Se,ae)),je=V(([{log:e}])=>{const t=w(!1),o=fe(C(t,L(n=>n),Y()));return U(t,n=>{n&&re(e)("props updated",{},me.DEBUG)}),{didMount:o,propsReady:t}},Z(Me),{singleton:!0}),br=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Zo(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!br)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const ut=V(([{gap:e,listRefresh:t,sizes:o,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:i,footerHeight:l,headerHeight:s,scrollingInProgress:a,scrollTo:u,smoothScrollTargetReached:d,viewportHeight:g},{log:c}])=>{const f=D(),I=D(),x=w(0);let T=null,h=null,p=null;function y(){T&&(T(),T=null),p&&(p(),p=null),h&&(clearTimeout(h),h=null),F(a,!1)}return B(C(f,A(o,g,n,x,s,l,c),A(e,i,r),z(([[R,v,m,S,k,j,M,O],_,X,$])=>{const q=Zo(R),{align:ue,behavior:pe,offset:ge}=q,ve=S-1,ce=qo(q,v,ve);let le=at(ce,v.offsetTree,_)+j;ue==="end"?(le+=X+Ce(v.sizeTree,ce)[1]-m+$,ce===ve&&(le+=M)):ue==="center"?le+=(X+Ce(v.sizeTree,ce)[1]-m+$)/2:le-=k,ge&&(le+=ge);const Le=xe=>{y(),xe?(O("retrying to scroll to",{location:R},me.DEBUG),F(f,R)):(F(I,!0),O("list did not change, scroll successful",{},me.DEBUG))};if(y(),pe==="smooth"){let xe=!1;p=U(t,et=>{xe=xe||et}),T=ye(d,()=>{Le(xe)})}else T=ye(C(t,yr(150)),Le);return h=setTimeout(()=>{y()},1200),F(a,!0),O("scrolling from index to",{behavior:pe,index:ce,top:le},me.DEBUG),{behavior:pe,top:le}})),u),{scrollTargetReached:I,scrollToIndex:f,topListHeight:x}},Z(Se,ae,Me),{singleton:!0});function yr(e){return t=>{const o=setTimeout(()=>{t(!1)},e);return n=>{n&&(t(!0),clearTimeout(o))}}}function Yt(e,t){e==0?t():requestAnimationFrame(()=>{Yt(e-1,t)})}function Zt(e,t){const o=t-1;return typeof e=="number"?e:e.index==="LAST"?o:e.index}const dt=V(([{defaultItemSize:e,listRefresh:t,sizes:o},{scrollTop:n},{scrollTargetReached:r,scrollToIndex:i},{didMount:l}])=>{const s=w(!0),a=w(0),u=w(!0);return B(C(l,A(a),L(([d,g])=>!!g),we(!1)),s),B(C(l,A(a),L(([d,g])=>!!g),we(!1)),u),U(C(oe(t,l),A(s,o,e,u),L(([[,d],g,{sizeTree:c},f,I])=>d&&(!K(c)||Ut(f))&&!g&&!I),A(a)),([,d])=>{ye(r,()=>{F(u,!0)}),Yt(4,()=>{ye(n,()=>{F(s,!0)}),F(i,d)})}),{initialItemFinalLocationReached:u,initialTopMostItemIndex:a,scrolledToInitialItem:s}},Z(Se,ae,ut,je),{singleton:!0});function Xo(e,t){return Math.abs(e-t)<1.01}const ct="up",nt="down",Sr="none",Hr={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Rr=0,ft=V(([{footerHeight:e,headerHeight:t,scrollBy:o,scrollContainerState:n,scrollTop:r,viewportHeight:i}])=>{const l=w(!1),s=w(!0),a=D(),u=D(),d=w(4),g=w(Rr),c=ie(C(xo(C(P(r),_e(1),we(!0)),C(P(r),_e(1),we(!1),vo(100))),Y()),!1),f=ie(C(xo(C(o,we(!0)),C(o,we(!1),vo(200))),Y()),!1);B(C(oe(P(r),P(g)),z(([p,y])=>p<=y),Y()),s),B(C(s,ke(50)),u);const I=fe(C(oe(n,P(i),P(t),P(e),P(d)),be((p,[{scrollHeight:y,scrollTop:R},v,m,S,k])=>{const j=R+v-y>-k,M={scrollHeight:y,scrollTop:R,viewportHeight:v};if(j){let _,X;return R>p.state.scrollTop?(_="SCROLLED_DOWN",X=p.state.scrollTop-R):(_="SIZE_DECREASED",X=p.state.scrollTop-R||p.scrollTopDelta),{atBottom:!0,atBottomBecause:_,scrollTopDelta:X,state:M}}let O;return M.scrollHeight>p.state.scrollHeight?O="SIZE_INCREASED":v<p.state.viewportHeight?O="VIEWPORT_HEIGHT_DECREASING":R<p.state.scrollTop?O="SCROLLING_UPWARDS":O="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:O,state:M}},Hr),Y((p,y)=>p&&p.atBottom===y.atBottom))),x=ie(C(n,be((p,{scrollHeight:y,scrollTop:R,viewportHeight:v})=>{if(Xo(p.scrollHeight,y))return{changed:!1,jump:0,scrollHeight:y,scrollTop:R};{const m=y-(R+v)<1;return p.scrollTop!==R&&m?{changed:!0,jump:p.scrollTop-R,scrollHeight:y,scrollTop:R}:{changed:!0,jump:0,scrollHeight:y,scrollTop:R}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),L(p=>p.changed),z(p=>p.jump)),0);B(C(I,z(p=>p.atBottom)),l),B(C(l,ke(50)),a);const T=w(nt);B(C(n,z(({scrollTop:p})=>p),Y(),be((p,y)=>re(f)?{direction:p.direction,prevScrollTop:y}:{direction:y<p.prevScrollTop?ct:nt,prevScrollTop:y},{direction:nt,prevScrollTop:0}),z(p=>p.direction)),T),B(C(n,ke(50),we(Sr)),T);const h=w(0);return B(C(c,L(p=>!p),we(0)),h),B(C(r,ke(100),A(c),L(([p,y])=>!!y),be(([p,y],[R])=>[y,R],[0,0]),z(([p,y])=>y-p)),h),{atBottomState:I,atBottomStateChange:a,atBottomThreshold:d,atTopStateChange:u,atTopThreshold:g,isAtBottom:l,isAtTop:s,isScrolling:c,lastJumpDueToItemResize:x,scrollDirection:T,scrollVelocity:h}},Z(ae)),bt="top",yt="bottom",Io="none";function wo(e,t,o){return typeof e=="number"?o===ct&&t===bt||o===nt&&t===yt?e:0:o===ct?t===bt?e.main:e.reverse:t===yt?e.main:e.reverse}function bo(e,t){var o;return typeof e=="number"?e:(o=e[t])!=null?o:0}const Xt=V(([{deviation:e,fixedHeaderHeight:t,headerHeight:o,scrollTop:n,viewportHeight:r}])=>{const i=D(),l=w(0),s=w(0),a=w(0),u=ie(C(oe(P(n),P(r),P(o),P(i,lt),P(a),P(l),P(t),P(e),P(s)),z(([d,g,c,[f,I],x,T,h,p,y])=>{const R=d-p,v=T+h,m=Math.max(c-R,0);let S=Io;const k=bo(y,bt),j=bo(y,yt);return f-=p,f+=c+h,I+=c+h,I-=p,f>d+v-k&&(S=ct),I<d-m+g+j&&(S=nt),S!==Io?[Math.max(R-c-wo(x,bt,S)-k,0),R-m-h+g+wo(x,yt,S)+j]:null}),L(d=>d!=null),Y(lt)),[0,0]);return{increaseViewportBy:s,listBoundary:i,overscan:a,topListHeight:l,visibleRange:u}},Z(ae),{singleton:!0});function zr(e,t,o){if(Et(t)){const n=Ko(e,t);return[{index:Ce(t.groupOffsetTree,n)[0],offset:0,size:0},{data:o==null?void 0:o[0],index:n,offset:0,size:0}]}return[{data:o==null?void 0:o[0],index:e,offset:0,size:0}]}const Lt={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function Tt(e,t,o,n,r,i){const{lastIndex:l,lastOffset:s,lastSize:a}=r;let u=0,d=0;if(e.length>0){u=e[0].offset;const x=e[e.length-1];d=x.offset+x.size}const g=o-l,c=s+g*a+(g-1)*n,f=u,I=c-d;return{bottom:d,firstItemIndex:i,items:yo(e,r,i),offsetBottom:I,offsetTop:u,top:f,topItems:yo(t,r,i),topListHeight:t.reduce((x,T)=>T.size+x,0),totalCount:o}}function Jo(e,t,o,n,r,i){let l=0;if(o.groupIndices.length>0)for(const d of o.groupIndices){if(d-l>=e)break;l++}const s=e+l,a=Zt(t,s),u=Array.from({length:s}).map((d,g)=>({data:i[g+a],index:g+a,offset:0,size:0}));return Tt(u,[],s,r,o,n)}function yo(e,t,o){if(e.length===0)return[];if(!Et(t))return e.map(u=>({...u,index:u.index+o,originalIndex:u.index}));const n=e[0].index,r=e[e.length-1].index,i=[],l=kt(t.groupOffsetTree,n,r);let s,a=0;for(const u of e){(!s||s.end<u.index)&&(s=l.shift(),a=t.groupIndices.indexOf(s.start));let d;u.index===s.start?d={index:a,type:"group"}:d={groupIndex:a,index:u.index-(a+1)+o},i.push({...d,data:u.data,offset:u.offset,originalIndex:u.index,size:u.size})}return i}const Ae=V(([{data:e,firstItemIndex:t,gap:o,sizes:n,totalCount:r},i,{listBoundary:l,topListHeight:s,visibleRange:a},{initialTopMostItemIndex:u,scrolledToInitialItem:d},{topListHeight:g},c,{didMount:f},{recalcInProgress:I}])=>{const x=w([]),T=w(0),h=D();B(i.topItemsIndexes,x);const p=ie(C(oe(f,I,P(a,lt),P(r),P(n),P(u),d,P(x),P(t),P(o),e),L(([m,S,,k,,,,,,,j])=>{const M=j&&j.length!==k;return m&&!S&&!M}),z(([,,[m,S],k,j,M,O,_,X,$,q])=>{const ue=j,{offsetTree:pe,sizeTree:ge}=ue,ve=re(T);if(k===0)return{...Lt,totalCount:k};if(m===0&&S===0)return ve===0?{...Lt,totalCount:k}:Jo(ve,M,j,X,$,q||[]);if(K(ge))return ve>0?null:Tt(zr(Zt(M,k),ue,q),[],k,$,ue,X);const ce=[];if(_.length>0){const We=_[0],Ie=_[_.length-1];let He=0;for(const b of kt(ge,We,Ie)){const W=b.value,J=Math.max(b.start,We),ne=Math.min(b.end,Ie);for(let ee=J;ee<=ne;ee++)ce.push({data:q==null?void 0:q[ee],index:ee,offset:He,size:W}),He+=W}}if(!O)return Tt([],ce,k,$,ue,X);const le=_.length>0?_[_.length-1]+1:0,Le=gr(pe,m,S,le);if(Le.length===0)return null;const xe=k-1,et=zt([],We=>{for(const Ie of Le){const He=Ie.value;let b=He.offset,W=Ie.start;const J=He.size;if(He.offset<m){W+=Math.floor((m-He.offset+$)/(J+$));const ee=W-Ie.start;b+=ee*J+ee*$}W<le&&(b+=(le-W)*J,W=le);const ne=Math.min(Ie.end,xe);for(let ee=W;ee<=ne&&!(b>=S);ee++)We.push({data:q==null?void 0:q[ee],index:ee,offset:b,size:J}),b+=J+$}});return Tt(et,ce,k,$,ue,X)}),L(m=>m!==null),Y()),Lt);B(C(e,L(Ut),z(m=>m==null?void 0:m.length)),r),B(C(p,z(m=>m.topListHeight)),g),B(g,s),B(C(p,z(m=>[m.top,m.bottom])),l),B(C(p,z(m=>m.items)),h);const y=fe(C(p,L(({items:m})=>m.length>0),A(r,e),L(([{items:m},S])=>m[m.length-1].originalIndex===S-1),z(([,m,S])=>[m-1,S]),Y(lt),z(([m])=>m))),R=fe(C(p,ke(200),L(({items:m,topItems:S})=>m.length>0&&m[0].originalIndex===S.length),z(({items:m})=>m[0].index),Y())),v=fe(C(p,L(({items:m})=>m.length>0),z(({items:m})=>{let S=0,k=m.length-1;for(;m[S].type==="group"&&S<k;)S++;for(;m[k].type==="group"&&k>S;)k--;return{endIndex:m[k].index,startIndex:m[S].index}}),Y(_o)));return{endReached:y,initialItemCount:T,itemsRendered:h,listState:p,rangeChanged:v,startReached:R,topItemsIndexes:x,...c}},Z(Se,Yo,Xt,dt,ut,ft,je,Kt),{singleton:!0}),Qo=V(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:o,headerHeight:n},{listState:r}])=>{const i=D(),l=ie(C(oe(o,e,n,t,r),z(([s,a,u,d,g])=>s+a+u+d+g.offsetBottom+g.bottom)),0);return B(P(l),i),{totalListHeight:l,totalListHeightChanged:i}},Z(ae,Ae),{singleton:!0}),kr=V(([{viewportHeight:e},{totalListHeight:t}])=>{const o=w(!1),n=ie(C(oe(o,e,t),L(([r])=>r),z(([,r,i])=>Math.max(0,r-i)),ke(0),Y()),0);return{alignToBottom:o,paddingTopAddition:n}},Z(ae,Qo),{singleton:!0});function So(e){return e?e==="smooth"?"smooth":"auto":!1}const Er=(e,t)=>typeof e=="function"?So(e(t)):t&&So(e),Br=V(([{listRefresh:e,totalCount:t},{atBottomState:o,isAtBottom:n},{scrollToIndex:r},{scrolledToInitialItem:i},{didMount:l,propsReady:s},{log:a},{scrollingInProgress:u}])=>{const d=w(!1),g=D();let c=null;function f(x){F(r,{align:"end",behavior:x,index:"LAST"})}U(C(oe(C(P(t),_e(1)),l),A(P(d),n,i,u),z(([[x,T],h,p,y,R])=>{let v=T&&y,m="auto";return v&&(m=Er(h,p||R),v=v&&!!m),{followOutputBehavior:m,shouldFollow:v,totalCount:x}}),L(({shouldFollow:x})=>x)),({followOutputBehavior:x,totalCount:T})=>{c&&(c(),c=null),c=ye(e,()=>{re(a)("following output to ",{totalCount:T},me.DEBUG),f(x),c=null})});function I(x){const T=ye(o,h=>{x&&!h.atBottom&&h.notAtBottomBecause==="SIZE_INCREASED"&&!c&&(re(a)("scrolling to bottom due to increased size",{},me.DEBUG),f("auto"))});setTimeout(T,100)}return U(C(oe(P(d),t,s),L(([x,,T])=>x&&T),be(({value:x},[,T])=>({refreshed:x===T,value:T}),{refreshed:!1,value:0}),L(({refreshed:x})=>x),A(d,t)),([,x])=>{re(i)&&I(x!==!1)}),U(g,()=>{I(re(d)!==!1)}),U(oe(P(d),o),([x,T])=>{x&&!T.atBottom&&T.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&f("auto")}),{autoscrollToBottom:g,followOutput:d}},Z(Se,ft,ut,dt,je,Me,ae)),Mr=V(([{data:e,firstItemIndex:t,gap:o,sizes:n},{initialTopMostItemIndex:r},{initialItemCount:i,listState:l},{didMount:s}])=>(B(C(s,A(i),L(([,a])=>a!==0),A(r,n,t,o,e),z(([[,a],u,d,g,c,f=[]])=>Jo(a,u,d,g,c,f))),l),{}),Z(Se,dt,Ae,je),{singleton:!0}),jr=V(([{didMount:e},{scrollTo:t},{listState:o}])=>{const n=w(0);return U(C(e,A(n),L(([,r])=>r!==0),z(([,r])=>({top:r}))),r=>{ye(C(o,_e(1),L(i=>i.items.length>1)),()=>{requestAnimationFrame(()=>{F(t,r)})})}),{initialScrollTop:n}},Z(je,ae,Ae),{singleton:!0}),Lr=({itemBottom:e,itemTop:t,locationParams:{align:o,behavior:n,...r},viewportBottom:i,viewportTop:l})=>t<l?{...r,align:o??"start",behavior:n}:e>i?{...r,align:o??"end",behavior:n}:null,Pr=V(([{gap:e,sizes:t,totalCount:o},{fixedFooterHeight:n,fixedHeaderHeight:r,headerHeight:i,scrollingInProgress:l,scrollTop:s,viewportHeight:a},{scrollToIndex:u}])=>{const d=D();return B(C(d,A(t,a,o,i,r,n,s),A(e),z(([[g,c,f,I,x,T,h,p],y])=>{const{align:R,behavior:v,calculateViewLocation:m=Lr,done:S,...k}=g,j=qo(g,c,I-1),M=at(j,c.offsetTree,y)+x+T,O=M+Ce(c.sizeTree,j)[1],_=p+T,X=p+f-h,$=m({itemBottom:O,itemTop:M,locationParams:{align:R,behavior:v,...k},viewportBottom:X,viewportTop:_});return $?S&&ye(C(l,L(q=>!q),_e(re(l)?1:2)),S):S&&S(),$}),L(g=>g!==null)),u),{scrollIntoView:d}},Z(Se,ae,ut,Ae,Me),{singleton:!0}),en=V(([{scrollVelocity:e}])=>{const t=w(!1),o=D(),n=w(!1);return B(C(e,A(n,t,o),L(([r,i])=>!!i),z(([r,i,l,s])=>{const{enter:a,exit:u}=i;if(l){if(u(r,s))return!1}else if(a(r,s))return!0;return l}),Y()),t),U(C(oe(t,e,o),A(n)),([[r,i,l],s])=>{r&&s&&s.change&&s.change(i,l)}),{isSeeking:t,scrollSeekConfiguration:n,scrollSeekRangeChanged:o,scrollVelocity:e}},Z(ft),{singleton:!0}),Jt=V(([{scrollContainerState:e,scrollTo:t}])=>{const o=D(),n=D(),r=D(),i=w(!1),l=w(void 0);return B(C(oe(o,n),z(([{scrollHeight:s,scrollTop:a,viewportHeight:u},{offsetTop:d}])=>({scrollHeight:s,scrollTop:Math.max(0,a-d),viewportHeight:u}))),e),B(C(t,A(n),z(([s,{offsetTop:a}])=>({...s,top:s.top+a}))),r),{customScrollParent:l,useWindowScroll:i,windowScrollContainerState:o,windowScrollTo:r,windowViewportRect:n}},Z(ae)),Or=V(([{sizeRanges:e,sizes:t},{headerHeight:o,scrollTop:n},{initialTopMostItemIndex:r},{didMount:i},{useWindowScroll:l,windowScrollContainerState:s,windowViewportRect:a}])=>{const u=D(),d=w(void 0),g=w(null),c=w(null);return B(s,g),B(a,c),U(C(u,A(t,n,l,g,c,o)),([f,I,x,T,h,p,y])=>{const R=xr(I.sizeTree);T&&h!==null&&p!==null&&(x=h.scrollTop-p.offsetTop),x-=y,f({ranges:R,scrollTop:x})}),B(C(d,L(Ut),z(Fr)),r),B(C(i,A(d),L(([,f])=>f!==void 0),Y(),z(([,f])=>f.ranges)),e),{getState:u,restoreStateFrom:d}},Z(Se,ae,dt,je,Jt));function Fr(e){return{align:"start",index:0,offset:e.scrollTop}}const Nr=V(([{topItemsIndexes:e}])=>{const t=w(0);return B(C(t,L(o=>o>=0),z(o=>Array.from({length:o}).map((n,r)=>r))),e),{topItemCount:t}},Z(Ae));function tn(e){let t=!1,o;return()=>(t||(t=!0,o=e()),o)}const Ar=tn(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Wr=V(([{deviation:e,scrollBy:t,scrollingInProgress:o,scrollTop:n},{isAtBottom:r,isScrolling:i,lastJumpDueToItemResize:l,scrollDirection:s},{listState:a},{beforeUnshiftWith:u,gap:d,shiftWithOffset:g,sizes:c},{log:f},{recalcInProgress:I}])=>{const x=fe(C(a,A(l),be(([,h,p,y],[{bottom:R,items:v,offsetBottom:m,totalCount:S},k])=>{const j=R+m;let M=0;return p===S&&h.length>0&&v.length>0&&(v[0].originalIndex===0&&h[0].originalIndex===0||(M=j-y,M!==0&&(M+=k))),[M,v,S,j]},[0,[],0,0]),L(([h])=>h!==0),A(n,s,o,r,f,I),L(([,h,p,y,,,R])=>!R&&!y&&h!==0&&p===ct),z(([[h],,,,,p])=>(p("Upward scrolling compensation",{amount:h},me.DEBUG),h))));function T(h){h>0?(F(t,{behavior:"auto",top:-h}),F(e,0)):(F(e,0),F(t,{behavior:"auto",top:-h}))}return U(C(x,A(e,i)),([h,p,y])=>{y&&Ar()?F(e,p-h):T(-h)}),U(C(oe(ie(i,!1),e,I),L(([h,p,y])=>!h&&!y&&p!==0),z(([h,p])=>p),ke(1)),T),B(C(g,z(h=>({top:-h}))),t),U(C(u,A(c,d),z(([h,{groupIndices:p,lastSize:y,sizeTree:R},v])=>{function m(S){return S*(y+v)}if(p.length===0)return m(h);{let S=0;const k=st(R,0);let j=0,M=0;for(;j<h;){j++,S+=k;let O=p.length===M+1?1/0:p[M+1]-p[M]-1;j+O>h&&(S-=k,O=h-j+1),j+=O,S+=m(O),M++}return S}})),h=>{F(e,h),requestAnimationFrame(()=>{F(t,{top:h}),requestAnimationFrame(()=>{F(e,0),F(I,!1)})})}),{deviation:e}},Z(ae,ft,Ae,Se,Me,Kt)),$r=V(([e,t,o,n,r,i,l,s,a,u])=>({...e,...t,...o,...n,...r,...i,...l,...s,...a,...u}),Z(Xt,Mr,je,en,Qo,jr,kr,Jt,Pr,Me)),on=V(([{data:e,defaultItemSize:t,firstItemIndex:o,fixedItemSize:n,gap:r,groupIndices:i,itemSize:l,sizeRanges:s,sizes:a,statefulTotalCount:u,totalCount:d,trackItemSizes:g},{initialItemFinalLocationReached:c,initialTopMostItemIndex:f,scrolledToInitialItem:I},x,T,h,{listState:p,topItemsIndexes:y,...R},{scrollToIndex:v},m,{topItemCount:S},{groupCounts:k},j])=>(B(R.rangeChanged,j.scrollSeekRangeChanged),B(C(j.windowViewportRect,z(M=>M.visibleHeight)),x.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:o,fixedItemHeight:n,gap:r,groupCounts:k,initialItemFinalLocationReached:c,initialTopMostItemIndex:f,scrolledToInitialItem:I,sizeRanges:s,topItemCount:S,topItemsIndexes:y,totalCount:d,...h,groupIndices:i,itemSize:l,listState:p,scrollToIndex:v,statefulTotalCount:u,trackItemSizes:g,...R,...j,...x,sizes:a,...T}),Z(Se,dt,ae,Or,Br,Ae,ut,Wr,Nr,Yo,$r));function Dr(e,t){const o={},n={};let r=0;const i=e.length;for(;r<i;)n[e[r]]=1,r+=1;for(const l in t)Object.hasOwn(n,l)||(o[l]=t[l]);return o}const gt=typeof document<"u"?E.useLayoutEffect:E.useEffect;function nn(e,t,o){const n=Object.keys(t.required||{}),r=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),l=Object.keys(t.events||{}),s=E.createContext({});function a(T,h){T.propsReady&&F(T.propsReady,!1);for(const p of n){const y=T[t.required[p]];F(y,h[p])}for(const p of r)if(p in h){const y=T[t.optional[p]];F(y,h[p])}T.propsReady&&F(T.propsReady,!0)}function u(T){return i.reduce((h,p)=>(h[p]=y=>{const R=T[t.methods[p]];F(R,y)},h),{})}function d(T){return l.reduce((h,p)=>(h[p]=nr(T[t.events[p]]),h),{})}const g=E.forwardRef((T,h)=>{const{children:p,...y}=T,[R]=E.useState(()=>zt(ir(e),S=>{a(S,y)})),[v]=E.useState(go(d,R));gt(()=>{for(const S of l)S in y&&U(v[S],y[S]);return()=>{Object.values(v).map(_t)}},[y,v,R]),gt(()=>{a(R,y)}),E.useImperativeHandle(h,mo(u(R)));const m=o;return H.jsx(s.Provider,{value:R,children:o?H.jsx(m,{...Dr([...n,...r,...l],y),children:p}):p})}),c=T=>E.useCallback(Fo(F,E.useContext(s)[T]),[T]),f=T=>{const h=E.useContext(s)[T],p=E.useCallback(y=>U(h,y),[h]);return E.useSyncExternalStore(p,()=>re(h),()=>re(h))},I=T=>{const h=E.useContext(s)[T],[p,y]=E.useState(go(re,h));return gt(()=>U(h,R=>{R!==p&&y(mo(R))}),[h,p]),p},x=E.version.startsWith("18")?f:I;return{Component:g,useEmitter:(T,h)=>{const p=E.useContext(s)[T];gt(()=>U(p,h),[h,p])},useEmitterValue:x,usePublisher:c}}const rn=E.createContext(void 0),sn=E.createContext(void 0),ln=typeof document<"u"?E.useLayoutEffect:E.useEffect;function an(e,t,o,n=Qe,r,i){const l=E.useRef(null),s=E.useRef(null),a=E.useRef(null),u=E.useCallback(c=>{const f=c.target,I=f===window||f===document,x=i?I?window.pageXOffset||document.documentElement.scrollLeft:f.scrollLeft:I?window.pageYOffset||document.documentElement.scrollTop:f.scrollTop,T=i?I?document.documentElement.scrollWidth:f.scrollWidth:I?document.documentElement.scrollHeight:f.scrollHeight,h=i?I?window.innerWidth:f.offsetWidth:I?window.innerHeight:f.offsetHeight,p=()=>{e({scrollHeight:T,scrollTop:Math.max(x,0),viewportHeight:h})};c.suppressFlushSync?p():bn.flushSync(p),s.current!==null&&(x===s.current||x<=0||x===T-h)&&(s.current=null,t(!0),a.current&&(clearTimeout(a.current),a.current=null))},[e,t]);E.useEffect(()=>{const c=r||l.current;return n(r||l.current),u({suppressFlushSync:!0,target:c}),c.addEventListener("scroll",u,{passive:!0}),()=>{n(null),c.removeEventListener("scroll",u)}},[l,u,o,n,r]);function d(c){const f=l.current;if(!f||(i?"offsetWidth"in f&&f.offsetWidth===0:"offsetHeight"in f&&f.offsetHeight===0))return;const I=c.behavior==="smooth";let x,T,h;f===window?(T=Math.max(Ee(document.documentElement,i?"width":"height"),i?document.documentElement.scrollWidth:document.documentElement.scrollHeight),x=i?window.innerWidth:window.innerHeight,h=i?document.documentElement.scrollLeft:document.documentElement.scrollTop):(T=f[i?"scrollWidth":"scrollHeight"],x=Ee(f,i?"width":"height"),h=f[i?"scrollLeft":"scrollTop"]);const p=T-x;if(c.top=Math.ceil(Math.max(Math.min(p,c.top),0)),Xo(x,T)||c.top===h){e({scrollHeight:T,scrollTop:h,viewportHeight:x}),I&&t(!0);return}I?(s.current=c.top,a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{a.current=null,s.current=null,t(!0)},1e3)):s.current=null,i&&(c={behavior:c.behavior,left:c.top}),f.scrollTo(c)}function g(c){i&&(c={behavior:c.behavior,left:c.top}),l.current.scrollBy(c)}return{scrollByCallback:g,scrollerRef:l,scrollToCallback:d}}const Pt="-webkit-sticky",Ho="sticky",cn=tn(()=>{if(typeof document>"u")return Ho;const e=document.createElement("div");return e.style.position=Pt,e.style.position===Pt?Pt:Ho});function Qt(e){return e}const Vr=V(()=>{const e=w(a=>`Item ${a}`),t=w(null),o=w(a=>`Group ${a}`),n=w({}),r=w(Qt),i=w("div"),l=w(Qe),s=(a,u=null)=>ie(C(n,z(d=>d[a]),Y()),u);return{components:n,computeItemKey:r,context:t,EmptyPlaceholder:s("EmptyPlaceholder"),FooterComponent:s("Footer"),GroupComponent:s("Group","div"),groupContent:o,HeaderComponent:s("Header"),HeaderFooterTag:i,ItemComponent:s("Item","div"),itemContent:e,ListComponent:s("List","div"),ScrollerComponent:s("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:s("ScrollSeekPlaceholder"),TopItemListComponent:s("TopItemList")}});Z(on,Vr);cn();const Ur={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},_r={outline:"none",overflowX:"auto",position:"relative"},Bt=e=>({height:"100%",position:"absolute",top:0,width:"100%"});cn();function se(e,t){if(typeof e!="string")return{context:t}}function Gr(e,t){return{item:typeof e=="string"?void 0:t}}function un({useEmitter:e,useEmitterValue:t,usePublisher:o}){return E.memo(function({children:n,style:r,...i}){const l=o("scrollContainerState"),s=t("ScrollerComponent"),a=o("smoothScrollTargetReached"),u=t("scrollerRef"),d=t("context"),g=t("horizontalDirection")||!1,{scrollByCallback:c,scrollerRef:f,scrollToCallback:I}=an(l,a,s,u,void 0,g);return e("scrollTo",I),e("scrollBy",c),H.jsx(s,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:f,style:{...g?_r:Ur,...r},tabIndex:0,...i,...se(s,d),children:n})})}function dn({useEmitter:e,useEmitterValue:t,usePublisher:o}){return E.memo(function({children:n,style:r,...i}){const l=o("windowScrollContainerState"),s=t("ScrollerComponent"),a=o("smoothScrollTargetReached"),u=t("totalListHeight"),d=t("deviation"),g=t("customScrollParent"),c=t("context"),{scrollByCallback:f,scrollerRef:I,scrollToCallback:x}=an(l,a,s,Qe,g);return ln(()=>(I.current=g||window,()=>{I.current=null}),[I,g]),e("windowScrollTo",x),e("scrollBy",f),H.jsx(s,{"data-virtuoso-scroller":!0,style:{position:"relative",...r,...u!==0?{height:u+d}:{}},...i,...se(s,c),children:n})})}const Kr=V(()=>{const e=w(a=>H.jsxs("td",{children:["Item $",a]})),t=w(null),o=w(null),n=w(null),r=w({}),i=w(Qt),l=w(Qe),s=(a,u=null)=>ie(C(r,z(d=>d[a]),Y()),u);return{components:r,computeItemKey:i,context:t,EmptyPlaceholder:s("EmptyPlaceholder"),FillerRow:s("FillerRow"),fixedFooterContent:n,fixedHeaderContent:o,itemContent:e,ScrollerComponent:s("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:s("ScrollSeekPlaceholder"),TableBodyComponent:s("TableBody","tbody"),TableComponent:s("Table","table"),TableFooterComponent:s("TableFoot","tfoot"),TableHeadComponent:s("TableHead","thead"),TableRowComponent:s("TableRow","tr")}}),qr=V(([e,t])=>({...e,...t}),Z(on,Kr)),Yr=({height:e})=>H.jsx("tr",{children:H.jsx("td",{style:{height:e}})}),Zr=({height:e})=>H.jsx("tr",{children:H.jsx("td",{style:{border:0,height:e,padding:0}})}),Xr={overflowAnchor:"none"},Ro=E.memo(function({showTopList:e=!1}){const t=N("listState"),o=N("computeItemKey"),n=N("firstItemIndex"),r=N("isSeeking"),i=N("ScrollSeekPlaceholder")||Yr,l=N("context"),s=N("TableRowComponent"),a=N("fixedHeaderHeight"),u=N("itemContent"),d=(e?t.topItems:[]).reduce((c,f,I)=>(I===0?c.push(f.size):c.push(c[I-1]+f.size),c),[]),g=(e?t.topItems:t.items).map(c=>{const f=c.originalIndex,I=o(f+n,c.data,l),x=e?f===0?0:d[f-1]:0;return r?G.createElement(i,{...se(i,l),height:c.size,index:c.index,key:I,type:c.type||"item"}):G.createElement(s,{...se(s,l),...Gr(s,c.data),"data-index":f,"data-item-index":c.index,"data-known-size":c.size,key:I,style:e?{overflowAnchor:"none",position:"sticky",top:a+x,zIndex:2}:Xr},u(c.index,c.data,l))});return H.jsx(H.Fragment,{children:g})}),Jr=E.memo(function(){const e=N("listState"),t=N("topItemsIndexes").length>0,o=Te("sizeRanges"),n=N("useWindowScroll"),r=N("customScrollParent"),i=Te("windowScrollContainerState"),l=Te("scrollContainerState"),s=r||n?i:l,a=N("trackItemSizes"),u=N("itemSize"),d=N("log"),{callbackRef:g,ref:c}=ar(o,u,a,s,d,void 0,r,!1,N("skipAnimationFrameInResizeObserver")),[f,I]=E.useState(0);eo("deviation",M=>{f!==M&&(c.current.style.marginTop=`${M}px`,I(M))});const x=N("EmptyPlaceholder"),T=N("FillerRow")||Zr,h=N("TableBodyComponent"),p=N("paddingTopAddition"),y=N("statefulTotalCount"),R=N("context");if(y===0&&x)return H.jsx(x,{...se(x,R)});const v=(t?e.topItems:[]).reduce((M,O)=>M+O.size,0),m=e.offsetTop+p+f-v,S=e.offsetBottom,k=m>0?H.jsx(T,{context:R,height:m},"padding-top"):null,j=S>0?H.jsx(T,{context:R,height:S},"padding-bottom"):null;return H.jsxs(h,{"data-testid":"virtuoso-item-list",ref:g,...se(h,R),children:[k,t&&H.jsx(Ro,{showTopList:!0}),H.jsx(Ro,{}),j]})}),Qr=({children:e})=>{const t=E.useContext(rn),o=Te("viewportHeight"),n=Te("fixedItemHeight"),r=Ne(E.useMemo(()=>It(o,i=>Ee(i,"height")),[o]),!0,N("skipAnimationFrameInResizeObserver"));return E.useEffect(()=>{t&&(o(t.viewportHeight),n(t.itemHeight))},[t,o,n]),H.jsx("div",{"data-viewport-type":"element",ref:r,style:Bt(),children:e})},ei=({children:e})=>{const t=E.useContext(rn),o=Te("windowViewportRect"),n=Te("fixedItemHeight"),r=N("customScrollParent"),i=Ao(o,r,N("skipAnimationFrameInResizeObserver"));return E.useEffect(()=>{t&&(n(t.itemHeight),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,o,n]),H.jsx("div",{"data-viewport-type":"window",ref:i,style:Bt(),children:e})},ti=E.memo(function(e){const t=N("useWindowScroll"),o=N("customScrollParent"),n=Te("fixedHeaderHeight"),r=Te("fixedFooterHeight"),i=N("fixedHeaderContent"),l=N("fixedFooterContent"),s=N("context"),a=Ne(E.useMemo(()=>It(n,h=>Ee(h,"height")),[n]),!0,N("skipAnimationFrameInResizeObserver")),u=Ne(E.useMemo(()=>It(r,h=>Ee(h,"height")),[r]),!0,N("skipAnimationFrameInResizeObserver")),d=o||t?ri:ni,g=o||t?ei:Qr,c=N("TableComponent"),f=N("TableHeadComponent"),I=N("TableFooterComponent"),x=i?H.jsx(f,{ref:a,style:{position:"sticky",top:0,zIndex:2},...se(f,s),children:i()},"TableHead"):null,T=l?H.jsx(I,{ref:u,style:{bottom:0,position:"sticky",zIndex:1},...se(I,s),children:l()},"TableFoot"):null;return H.jsx(d,{...e,...se(d,s),children:H.jsx(g,{children:H.jsxs(c,{style:{borderSpacing:0,overflowAnchor:"none"},...se(c,s),children:[x,H.jsx(Jr,{},"TableBody"),T]})})})}),{Component:oi,useEmitter:eo,useEmitterValue:N,usePublisher:Te}=nn(qr,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",groupIndices:"groupIndices",isScrolling:"isScrolling",itemsRendered:"itemsRendered",rangeChanged:"rangeChanged",startReached:"startReached",totalListHeightChanged:"totalListHeightChanged"},methods:{getState:"getState",scrollBy:"scrollBy",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{alignToBottom:"alignToBottom",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",defaultItemHeight:"defaultItemHeight",firstItemIndex:"firstItemIndex",fixedFooterContent:"fixedFooterContent",fixedHeaderContent:"fixedHeaderContent",fixedItemHeight:"fixedItemHeight",followOutput:"followOutput",groupCounts:"groupCounts",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",initialTopMostItemIndex:"initialTopMostItemIndex",itemContent:"itemContent",itemSize:"itemSize",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",topItemCount:"topItemCount",totalCount:"totalCount",useWindowScroll:"useWindowScroll"},required:{}},ti),ni=un({useEmitter:eo,useEmitterValue:N,usePublisher:Te}),ri=dn({useEmitter:eo,useEmitterValue:N,usePublisher:Te}),ii=oi,zo={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},si={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:ko,floor:St,max:rt,min:Ot,round:Eo}=Math;function Bo(e,t,o){return Array.from({length:t-e+1}).map((n,r)=>({data:o===null?null:o[r+e],index:r+e}))}function li(e){return{...si,items:e}}function vt(e,t){return e&&e.width===t.width&&e.height===t.height}function ai(e,t){return e&&e.column===t.column&&e.row===t.row}const ci=V(([{increaseViewportBy:e,listBoundary:t,overscan:o,visibleRange:n},{footerHeight:r,headerHeight:i,scrollBy:l,scrollContainerState:s,scrollTo:a,scrollTop:u,smoothScrollTargetReached:d,viewportHeight:g},c,f,{didMount:I,propsReady:x},{customScrollParent:T,useWindowScroll:h,windowScrollContainerState:p,windowScrollTo:y,windowViewportRect:R},v])=>{const m=w(0),S=w(0),k=w(zo),j=w({height:0,width:0}),M=w({height:0,width:0}),O=D(),_=D(),X=w(0),$=w(null),q=w({column:0,row:0}),ue=D(),pe=D(),ge=w(!1),ve=w(0),ce=w(!0),le=w(!1),Le=w(!1);U(C(I,A(ve),L(([b,W])=>!!W)),()=>{F(ce,!1)}),U(C(oe(I,ce,M,j,ve,le),L(([b,W,J,ne,,ee])=>b&&!W&&J.height!==0&&ne.height!==0&&!ee)),([,,,,b])=>{F(le,!0),Yt(1,()=>{F(O,b)}),ye(C(u),()=>{F(t,[0,0]),F(ce,!0)})}),B(C(pe,L(b=>b!=null&&b.scrollTop>0),we(0)),S),U(C(I,A(pe),L(([,b])=>b!=null)),([,b])=>{b&&(F(j,b.viewport),F(M,b.item),F(q,b.gap),b.scrollTop>0&&(F(ge,!0),ye(C(u,_e(1)),W=>{F(ge,!1)}),F(a,{top:b.scrollTop})))}),B(C(j,z(({height:b})=>b)),g),B(C(oe(P(j,vt),P(M,vt),P(q,(b,W)=>b&&b.column===W.column&&b.row===W.row),P(u)),z(([b,W,J,ne])=>({gap:J,item:W,scrollTop:ne,viewport:b}))),ue),B(C(oe(P(m),n,P(q,ai),P(M,vt),P(j,vt),P($),P(S),P(ge),P(ce),P(ve)),L(([,,,,,,,b])=>!b),z(([b,[W,J],ne,ee,Pe,tt,$e,,pt,Re])=>{const{column:ze,row:ot}=ne,{height:ht,width:Mt}=ee,{width:to}=Pe;if($e===0&&(b===0||to===0))return zo;if(Mt===0){const so=Zt(Re,b),mn=so+Math.max($e-1,0);return li(Bo(so,mn,tt))}const mt=fn(to,Mt,ze);let De,Oe;pt?W===0&&J===0&&$e>0?(De=0,Oe=$e-1):(De=mt*St((W+ot)/(ht+ot)),Oe=mt*ko((J+ot)/(ht+ot))-1,Oe=Ot(b-1,rt(Oe,mt-1)),De=Ot(Oe,rt(0,De))):(De=0,Oe=-1);const oo=Bo(De,Oe,tt),{bottom:no,top:ro}=Mo(Pe,ne,ee,oo),io=ko(b/mt),hn=io*ht+(io-1)*ot-no;return{bottom:no,itemHeight:ht,items:oo,itemWidth:Mt,offsetBottom:hn,offsetTop:ro,top:ro}})),k),B(C($,L(b=>b!==null),z(b=>b.length)),m),B(C(oe(j,M,k,q),L(([b,W,{items:J}])=>J.length>0&&W.height!==0&&b.height!==0),z(([b,W,{items:J},ne])=>{const{bottom:ee,top:Pe}=Mo(b,ne,W,J);return[Pe,ee]}),Y(lt)),t);const xe=w(!1);B(C(u,A(xe),z(([b,W])=>W||b!==0)),xe);const et=fe(C(oe(k,m),L(([{items:b}])=>b.length>0),A(xe),L(([[b,W],J])=>{const ne=b.items[b.items.length-1].index===W-1;return(J||b.bottom>0&&b.itemHeight>0&&b.offsetBottom===0&&b.items.length===W)&&ne}),z(([[,b]])=>b-1),Y())),We=fe(C(P(k),L(({items:b})=>b.length>0&&b[0].index===0),we(0),Y())),Ie=fe(C(P(k),A(ge),L(([{items:b},W])=>b.length>0&&!W),z(([{items:b}])=>({endIndex:b[b.length-1].index,startIndex:b[0].index})),Y(_o),ke(0)));B(Ie,f.scrollSeekRangeChanged),B(C(O,A(j,M,m,q),z(([b,W,J,ne,ee])=>{const Pe=Zo(b),{align:tt,behavior:$e,offset:pt}=Pe;let Re=Pe.index;Re==="LAST"&&(Re=ne-1),Re=rt(0,Re,Ot(ne-1,Re));let ze=Dt(W,ee,J,Re);return tt==="end"?ze=Eo(ze-W.height+J.height):tt==="center"&&(ze=Eo(ze-W.height/2+J.height/2)),pt&&(ze+=pt),{behavior:$e,top:ze}})),a);const He=ie(C(k,z(b=>b.offsetBottom+b.bottom)),0);return B(C(R,z(b=>({height:b.visibleHeight,width:b.visibleWidth}))),j),{customScrollParent:T,data:$,deviation:X,footerHeight:r,gap:q,headerHeight:i,increaseViewportBy:e,initialItemCount:S,itemDimensions:M,overscan:o,restoreStateFrom:pe,scrollBy:l,scrollContainerState:s,scrollHeight:_,scrollTo:a,scrollToIndex:O,scrollTop:u,smoothScrollTargetReached:d,totalCount:m,useWindowScroll:h,viewportDimensions:j,windowScrollContainerState:p,windowScrollTo:y,windowViewportRect:R,...f,gridState:k,horizontalDirection:Le,initialTopMostItemIndex:ve,totalListHeight:He,...c,endReached:et,propsReady:x,rangeChanged:Ie,startReached:We,stateChanged:ue,stateRestoreInProgress:ge,...v}},Z(Xt,ae,ft,en,je,Jt,Me));function fn(e,t,o){return rt(1,St((e+o)/(St(t)+o)))}function Mo(e,t,o,n){const{height:r}=o;if(r===void 0||n.length===0)return{bottom:0,top:0};const i=Dt(e,t,o,n[0].index);return{bottom:Dt(e,t,o,n[n.length-1].index)+r,top:i}}function Dt(e,t,o,n){const r=fn(e.width,o.width,t.column),i=St(n/r),l=i*o.height+rt(0,i-1)*t.row;return l>0?l+t.row:l}const ui=V(()=>{const e=w(g=>`Item ${g}`),t=w({}),o=w(null),n=w("virtuoso-grid-item"),r=w("virtuoso-grid-list"),i=w(Qt),l=w("div"),s=w(Qe),a=(g,c=null)=>ie(C(t,z(f=>f[g]),Y()),c),u=w(!1),d=w(!1);return B(P(d),u),{components:t,computeItemKey:i,context:o,FooterComponent:a("Footer"),HeaderComponent:a("Header"),headerFooterTag:l,itemClassName:n,ItemComponent:a("Item","div"),itemContent:e,listClassName:r,ListComponent:a("List","div"),readyStateChanged:u,reportReadyState:d,ScrollerComponent:a("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder","div")}}),di=V(([e,t])=>({...e,...t}),Z(ci,ui)),fi=E.memo(function(){const e=Q("gridState"),t=Q("listClassName"),o=Q("itemClassName"),n=Q("itemContent"),r=Q("computeItemKey"),i=Q("isSeeking"),l=he("scrollHeight"),s=Q("ItemComponent"),a=Q("ListComponent"),u=Q("ScrollSeekPlaceholder"),d=Q("context"),g=he("itemDimensions"),c=he("gap"),f=Q("log"),I=Q("stateRestoreInProgress"),x=he("reportReadyState"),T=Ne(E.useMemo(()=>h=>{const p=h.parentElement.parentElement.scrollHeight;l(p);const y=h.firstChild;if(y){const{height:R,width:v}=y.getBoundingClientRect();g({height:R,width:v})}c({column:jo("column-gap",getComputedStyle(h).columnGap,f),row:jo("row-gap",getComputedStyle(h).rowGap,f)})},[l,g,c,f]),!0,!1);return ln(()=>{e.itemHeight>0&&e.itemWidth>0&&x(!0)},[e]),I?null:H.jsx(a,{className:t,ref:T,...se(a,d),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(h=>{const p=r(h.index,h.data,d);return i?H.jsx(u,{...se(u,d),height:e.itemHeight,index:h.index,width:e.itemWidth},p):G.createElement(s,{...se(s,d),className:o,"data-index":h.index,key:p},n(h.index,h.data,d))})})}),pi=E.memo(function(){const e=Q("HeaderComponent"),t=he("headerHeight"),o=Q("headerFooterTag"),n=Ne(E.useMemo(()=>i=>{t(Ee(i,"height"))},[t]),!0,!1),r=Q("context");return e?H.jsx(o,{ref:n,children:H.jsx(e,{...se(e,r)})}):null}),hi=E.memo(function(){const e=Q("FooterComponent"),t=he("footerHeight"),o=Q("headerFooterTag"),n=Ne(E.useMemo(()=>i=>{t(Ee(i,"height"))},[t]),!0,!1),r=Q("context");return e?H.jsx(o,{ref:n,children:H.jsx(e,{...se(e,r)})}):null}),mi=({children:e})=>{const t=E.useContext(sn),o=he("itemDimensions"),n=he("viewportDimensions"),r=Ne(E.useMemo(()=>i=>{n(i.getBoundingClientRect())},[n]),!0,!1);return E.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),o({height:t.itemHeight,width:t.itemWidth}))},[t,n,o]),H.jsx("div",{ref:r,style:Bt(),children:e})},gi=({children:e})=>{const t=E.useContext(sn),o=he("windowViewportRect"),n=he("itemDimensions"),r=Q("customScrollParent"),i=Ao(o,r,!1);return E.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,o,n]),H.jsx("div",{ref:i,style:Bt(),children:e})},vi=E.memo(function({...e}){const t=Q("useWindowScroll"),o=Q("customScrollParent"),n=o||t?Ti:xi,r=o||t?gi:mi,i=Q("context");return H.jsx(n,{...e,...se(n,i),children:H.jsxs(r,{children:[H.jsx(pi,{}),H.jsx(fi,{}),H.jsx(hi,{})]})})}),{useEmitter:pn,useEmitterValue:Q,usePublisher:he}=nn(di,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",isScrolling:"isScrolling",rangeChanged:"rangeChanged",readyStateChanged:"readyStateChanged",startReached:"startReached",stateChanged:"stateChanged"},methods:{scrollBy:"scrollBy",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",headerFooterTag:"headerFooterTag",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",itemClassName:"itemClassName",itemContent:"itemContent",listClassName:"listClassName",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",totalCount:"totalCount",useWindowScroll:"useWindowScroll"}},vi),xi=un({useEmitter:pn,useEmitterValue:Q,usePublisher:he}),Ti=dn({useEmitter:pn,useEmitterValue:Q,usePublisher:he});function jo(e,t,o){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,me.WARN),t==="normal"?0:parseInt(t??"0",10)}const Ci={Scroller:G.forwardRef((e,t)=>H.jsx(Un,{component:Ft,...e,ref:t})),Table:e=>H.jsx(Bn,{...e,sx:{borderCollapse:"separate",tableLayout:"auto"}}),TableHead:G.forwardRef((e,t)=>H.jsx(Yn,{...e,ref:t})),TableRow:Po,TableBody:G.forwardRef((e,t)=>H.jsx(On,{...e,ref:t}))};function Ii(e,t,o,n,r){if(!e||e.length===0)return[];const i=e[0],l=Object.keys(i).filter(s=>!t.includes(s));if(r&&r.length>0){const s=new Set(l),a=r.filter(g=>s.has(g)),u=l.filter(g=>!r.includes(g));return[...a,...u].map(g=>{const c=o[g]||{},I=typeof i[g]=="number";return{dataKey:g,label:c.label||g.charAt(0).toUpperCase()+g.slice(1),numeric:c.numeric!==void 0?c.numeric:I,width:c.width||n,renderCell:c.renderCell}})}return l.map(s=>{const a=o[s]||{},d=typeof i[s]=="number";return{dataKey:s,label:a.label||s.charAt(0).toUpperCase()+s.slice(1),numeric:a.numeric!==void 0?a.numeric:d,width:a.width||n,renderCell:a.renderCell}})}function wi({data:e,height:t=400,width:o="100%",excludeKeys:n=[],columnConfig:r={},defaultColumnWidth:i="auto",columnOrder:l}){const s=G.useMemo(()=>Ii(e,n,r,i,l),[e.length>0?JSON.stringify(Object.keys(e[0])):"",n.join(","),JSON.stringify(r),i,l==null?void 0:l.join(",")]),a=G.useCallback(()=>H.jsx(Po,{children:s.map(d=>H.jsx(uo,{variant:"head",align:d.numeric?"right":"left",style:{width:d.width==="auto"?void 0:d.width,whiteSpace:"nowrap"},sx:{backgroundColor:"background.paper"},className:"font-bold uppercase bg-neutral-200",children:d.label},d.dataKey))}),[s]),u=G.useCallback((d,g)=>H.jsx(G.Fragment,{children:s.map(c=>{const f=g[c.dataKey];return H.jsx(uo,{align:c.numeric?"right":"left",style:{width:c.width==="auto"?void 0:c.width},children:c.renderCell?c.renderCell(f,g):f!==void 0?String(f):""},c.dataKey)})}),[s]);return!e||e.length===0||s.length===0?H.jsx(Ft,{style:{height:t,width:o,display:"flex",justifyContent:"center",alignItems:"center"},children:"No data available"}):H.jsx(Ft,{style:{height:t,width:o},children:H.jsx(ii,{data:e,components:Ci,fixedHeaderContent:a,itemContent:u})})}const Pi=xn(function(){const o=Tn().id,[n,r]=G.useState(),[i,l]=G.useState(!0),[s,a]=G.useState([]),u=Cn();G.useEffect(()=>{let c=!0;l(!0);const f=u,I=setTimeout(()=>{c&&(a(f),l(!1))},0);return()=>{c=!1,clearTimeout(I)}},[o]);const d=G.useMemo(()=>!n||!s||s.length===0?s||[]:s.filter(c=>!(c.fullName&&n.name&&n.name.trim()!==""&&!c.fullName.toLowerCase().includes(n.name.toLowerCase())||c.city&&n.city&&n.city.trim()!==""&&!c.city.toLowerCase().includes(n.city.toLowerCase())||c.state&&n.state&&!c.state.includes(n.state)||c.acceptNewPatients===100000001&&!n.acceptingNewPatients||!n.includeInactive&&c.stateCode===1)),[n,s]),g=G.useCallback(c=>{r(c)},[]);return H.jsxs(lo,{className:"mt-4",children:[i?H.jsx(yn,{}):H.jsx(wn,{onFilterChange:g}),i?H.jsx(Sn,{}):H.jsxs(lo,{className:"mt-4",children:[H.jsx("div",{className:"mb-4",children:H.jsxs("p",{className:"font-medium text-gray-700",children:["Showing ",d.length," of ",s.length," practitioners"]})}),H.jsx(wi,{height:800,data:d,excludeKeys:["acceptNewPatients","addressLine2","city","state","zip","firstName","lastName","latitude","locationCount","longitude","officeFaxNumber","officePhoneExtension","officeType","participatingOrganizationId","practiceLocationId","practitionerId","providerCount","providerTypeId","providerType","providerTypeIdName","rosterId"],columnOrder:["fullName","practiceLocationName","addressLine1","officePhoneNumber"],columnConfig:{fullName:{label:"Practitioner Name",renderCell:(c,f)=>H.jsx(In,{to:`/profile/${f.practitionerId}`,className:"hover:underline",viewTransition:!0,children:c!==null?c:`${f.firstName} ${f.lastName}`})},addressLine1:{label:"Address",width:"auto",renderCell:(c,f)=>H.jsxs("div",{children:[H.jsx("p",{children:`${f.addressLine1} ${f.addressLine2?f.addressLine2:""}`}),H.jsx("p",{children:`${f.city}, ${f.state} ${Rn(f.zip)}`})]})},practiceLocationName:{label:"Location Name"},officePhoneNumber:{label:"Phone Number",renderCell:c=>H.jsx("div",{children:Hn(c)})},stateCode:{label:"Status",renderCell:c=>H.jsx("div",{children:c===0?"Active":"Inactive"})}}})]})]})});export{Pi as default};
